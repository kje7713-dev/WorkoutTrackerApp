name: YourAppName

options:
  bundleIdPrefix: com.yourcompany
  deploymentTarget:
    iOS: "17.0"

settings:
  base:
    DEVELOPMENT_TEAM: ${APPLE_TEAM_ID}
    CODE_SIGN_STYLE: Manual

targets:
  YourAppName:
    type: application
    platform: iOS

    # âœ… NEW: Proper Info.plist assignment (fixes Invalid Bundle: no executable)
    info:
      path: Info.plist
      properties:
        CFBundleIdentifier: ${APP_IDENTIFIER}

    sources:
      - path: .
        includes:
          - "*.swift"
          - "Assets.xcassets"
        excludes:
          - "fastlane/**"
          - "ci_logs/**"
          - "vendor/**"
          - ".git/**"
          - ".github/**"
          - "*.md"
          - "*.rb"
          - "*.yml"
          - "Gemfile*"
          - "AuthKey*.p8"

    settings:
      base:
        PRODUCT_BUNDLE_IDENTIFIER: ${APP_IDENTIFIER}
        INFOPLIST_FILE: Info.plist
        CODE_SIGN_STYLE: Manual
        CODE_SIGN_IDENTITY: "Apple Distribution"